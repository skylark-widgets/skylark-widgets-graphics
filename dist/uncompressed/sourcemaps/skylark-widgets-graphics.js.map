{"version":3,"sources":["skylark-widgets-graphics.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"../skylark-widgets-graphics.js","sourcesContent":["define('skylark-widgets-graphics/graphics',[\r\n\t\"skylark-langx/skylark\"\r\n],function(skylark) {\r\n\tvar graphics = {};\r\n\r\n\treturn skylark.attach(\"widgets.graphics\",graphics);\r\n\r\n});\r\n\r\n\ndefine('skylark-widgets-graphics/Graph',[\r\n\t\"skylark-domx-eventer\",\r\n\t\"skylark-widgets-base/Widget\",\r\n\t\"./graphics\"\r\n],function(eventer, Widget,graphics){\r\n\t\"use strict\";\r\n\r\n\t/**\r\n\t * Graph element is used to draw interactive line graphs.\r\n\t *\r\n\t * It is meant to be used as input in forms to controls values in arrays.\r\n\t *\r\n\t * Multiple graph lines can be displayed, each graph line has a name that can be used to access its properties.\r\n\t * \r\n\t * @class Graph\r\n\t * @extends {Widget}\r\n\t * @param {Widget} parent Parent element.\r\n\t * @param {String} name Name of the default graph.\r\n\t * @param {String} color CSS hex color code of the default graph.\r\n\t */\r\n\tvar Graph = Widget.inherit({\r\n\r\n\t\t_construct : function (parent, name, color) {\r\n\t\t\tWidget.prototype._construct.call(this, parent, \"div\");\r\n\r\n\t\t\tvar self = this;\r\n\r\n\t\t\tthis._elm.style.overflow = \"visible\";\r\n\r\n\t\t\t/**\r\n\t\t\t * Scale margin in pixels.\r\n\t\t\t *\r\n\t\t\t * @property scaleMargin\r\n\t\t\t * @type {Number}\r\n\t\t\t */\r\n\t\t\tthis.scaleMargin = 22;\r\n\r\n\t\t\t/**\r\n\t\t\t * Value button size.\r\n\t\t\t *\r\n\t\t\t * @property buttonRadius\r\n\t\t\t * @type {Number}\r\n\t\t\t */\r\n\t\t\tthis.buttonRadius = 10;\r\n\r\n\t\t\t/**\r\n\t\t\t * Maximum value displayed vertically.\r\n\t\t\t *\r\n\t\t\t * @property max\r\n\t\t\t * @type {Number}\r\n\t\t\t */\r\n\t\t\tthis.max = 1.0;\r\n\r\n\t\t\t/**\r\n\t\t\t * Minimum value displayed vertically.\r\n\t\t\t *\r\n\t\t\t * @property min\r\n\t\t\t * @type {Number}\r\n\t\t\t */\r\n\t\t\tthis.min = 0.0;\r\n\r\n\t\t\t/**\r\n\t\t\t * Grid canvas element.\r\n\t\t\t *\r\n\t\t\t * @property grid\r\n\t\t\t * @type {DOM}\r\n\t\t\t */\r\n\t\t\tthis.grid = document.createElement(\"canvas\");\r\n\t\t\tthis.grid.style.position = \"absolute\";\r\n\t\t\tthis.grid.style.marginLeft = this.scaleMargin + \"px\";\r\n\t\t\tthis._elm.appendChild(this.grid);\r\n\r\n\t\t\t/**\r\n\t\t\t * The graph lines stored in this graph.\r\n\t\t\t *\r\n\t\t\t * @property graph\r\n\t\t\t * @type {Array}\r\n\t\t\t */\r\n\t\t\tthis.graph = [];\r\n\t\t\tthis.addGraph(name, color);\r\n\t\t\t\r\n\t\t\t/**\r\n\t\t\t * Scale DOM elements.\r\n\t\t\t *\r\n\t\t\t * @property scale\r\n\t\t\t * @type {Array}\r\n\t\t\t */\r\n\t\t\tthis.scale = [];\r\n\t\t\tthis.createScale(3);\r\n\t\t},\r\n\r\n\r\n\t\t/**\r\n\t\t * Create numeric scale for this graph.\r\n\t\t *\r\n\t\t * @method createScale\r\n\t\t * @param {Number} size Number of values in the scale.\r\n\t\t */\r\n\t\tcreateScale : function(size) {\r\n\t\t\tfor(var i = 0; i < this.scale; i++)\r\n\t\t\t{\r\n\t\t\t\tthis._elm.removeChild(this.scale[i]);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tvar step = (this.max - this.min) / (size - 1);\r\n\r\n\t\t\tfor(var i = 0; i < size; i++)\r\n\t\t\t{\r\n\t\t\t\tvar scale = document.createElement(\"div\");\r\n\t\t\t\tscale.style.position = \"absolute\";\r\n\t\t\t\tscale.style.pointerEvents = \"none\";\r\n\t\t\t\tscale.style.color = Editor.theme.textColor;\r\n\r\n\t\t\t\tvar text = document.createTextNode(this.max - (step * i));\r\n\t\t\t\tscale.text = text;\r\n\t\t\t\tscale.appendChild(text);\r\n\r\n\t\t\t\tthis.scale.push(scale);\r\n\t\t\t\tthis._elm.appendChild(scale);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Update values of the scale.\r\n\t\t *\r\n\t\t * @method updateScale\r\n\t\t */\r\n\t\t_updateScale : function() {\r\n\t\t\tvar step = (this.max - this.min) / (this.scale.length - 1);\r\n\r\n\t\t\tfor(var i = 0; i < this.scale.length; i++)\r\n\t\t\t{\r\n\t\t\t\tthis.scale[(this.scale.length - 1) - i].text.data = this.min + (step * i);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Add new graph line.\r\n\t\t *\r\n\t\t * @method addGraph\r\n\t\t * @param {String} name Name of the graph.\r\n\t\t * @param {Color} color Color of the graph.\r\n\t\t */\r\n\t\taddGraph : function(name, color) {\r\n\t\t\tvar canvas = document.createElement(\"canvas\");\r\n\t\t\tcanvas.style.position = \"absolute\";\r\n\t\t\tcanvas.style.marginLeft = this.scaleMargin + \"px\";\r\n\t\t\tthis._elm.appendChild(canvas);\r\n\r\n\t\t\tthis.graph.push(new Graph.GaphLine(canvas, name, color));\r\n\t\t},\r\n\r\n\t\t/** \r\n\t\t * Attach onchange callback to a graph by its name.\r\n\t\t *\r\n\t\t * @method setOnChange\r\n\t\t * @param {Function} onChange\r\n\t\t * @param {String} name Graph name.\r\n\t\t */\r\n\t\tsetOnChange : function(onChange, name) \t{\r\n\t\t\tvar graph = this.getGraph(name);\r\n\t\t\tgraph.onchange = onChange;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Set value range of the graph.\r\n\t\t *\r\n\t\t * @method setRange.\r\n\t\t * @param {Number} min\r\n\t\t * @param {Number} max\r\n\t\t */\r\n\t\tsetRange : function(min, max) {\r\n\t\t\tthis.min = min;\r\n\t\t\tthis.max = max;\r\n\r\n\t\t\t//Limit graphs values\r\n\t\t\tfor(var i in this.graph) {\r\n\t\t\t\tvar graph = this.graph[i];\r\n\r\n\t\t\t\tfor(var j = 0; j < graph.values.length; j++)\r\n\t\t\t\t{\r\n\t\t\t\t\tif(graph.values[j] < min)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tgraph.values[j] = min;\r\n\r\n\t\t\t\t\t\tif(graph.onchange !== null)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tgraph.onchange(graph.values);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if(graph.values[j] > max)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tgraph.values[j] = max;\r\n\r\n\t\t\t\t\t\tif(graph.onchange !== null)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tgraph.onchange(graph.values);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tthis._updateScale();\r\n\r\n\t\t\t//Update grid to fit new scale\r\n\t\t\tfor(var i = 0; i < this.graph.length; i++){\r\n\t\t\t\tthis._updateGraph(this.graph[i]);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Set values array to a graph using its name.\r\n\t\t *\r\n\t\t * @method setValue\r\n\t\t * @param {Array} values Array of numeric values.\r\n\t\t * @param {String} name Name of the graph line.\r\n\t\t */\r\n\t\tsetValue : function(values, name) {\t\r\n\t\t\tvar self = this;\r\n\t\t\tvar graph = this.getGraph(name);\r\n\r\n\t\t\t//Set values\r\n\t\t\tgraph.values = values;\r\n\r\n\t\t\t//Add buttons if necessary\r\n\t\t\twhile(graph.buttons.length < graph.values.length){\r\n\t\t\t\tvar button = document.createElement(\"div\");\r\n\t\t\t\tbutton.style.borderRadius = \"5px\";\r\n\t\t\t\tbutton.style.backgroundColor = graph.color;\r\n\t\t\t\tbutton.style.cursor = \"pointer\";\r\n\t\t\t\tbutton.style.position = \"absolute\";\r\n\t\t\t\tbutton.style.marginTop = \"-\" + (this.buttonRadius / 2) + \"px\";\r\n\t\t\t\tbutton.style.marginLeft = (this.scaleMargin - (this.buttonRadius / 2)) + \"px\";\r\n\t\t\t\tbutton.style.width = this.buttonRadius + \"px\";\r\n\t\t\t\tbutton.style.height = this.buttonRadius + \"px\";\r\n\t\t\t\tbutton.index = graph.buttons.length;\r\n\t\t\t\tbutton.graph = graph;\r\n\r\n\t\t\t\tbutton.onmousedown = function(event) {\r\n\t\t\t\t\tvar index = this.index;\r\n\t\t\t\t\tvar graph = this.graph;\r\n\t\t\t\t\t//var manager = new EventManager();\r\n\r\n\t\t\t\t\t//manager.add(window, \"mousemove\", function(event)\r\n\t\t\t\t\teventer.on(window, \"mousemove\", function(event) {\r\n\t\t\t\t\t\tvar delta = event.movementY;\r\n\r\n\t\t\t\t\t\tgraph.values[index] -= (delta * ((self.max - self.min) / self.size.y));\r\n\r\n\t\t\t\t\t\tif(graph.values[index] > self.max)\t{\r\n\t\t\t\t\t\t\tgraph.values[index] = self.max;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse if(graph.values[index] < self.min)\t{\r\n\t\t\t\t\t\t\tgraph.values[index] = self.min;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif(graph.onchange !== null)\t{\r\n\t\t\t\t\t\t\tgraph.onchange(graph.values);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tself._updateGraph(graph);\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\t//manager.add(window, \"mouseup\", function(event)\r\n\t\t\t\t\t//{\t\r\n\t\t\t\t\t//\tmanager.destroy();\r\n\t\t\t\t\t//});\r\n\t\t\t\t\t//manager.create();\r\n\r\n\t\t\t\t\tevent.stopPropagation();\r\n\t\t\t\t};\r\n\r\n\t\t\t\tthis._elm.appendChild(button);\r\n\t\t\t\tgraph.buttons.push(button);\r\n\t\t\t}\r\n\r\n\t\t\t//Remove buttons if necessary\r\n\t\t\twhile(graph.buttons.length > graph.values.length){\r\n\t\t\t\tthis._elm.removeChild(graph.buttons.pop());\r\n\t\t\t}\r\n\r\n\t\t\t//Check if new values are in range\r\n\t\t\tvar update = false;\r\n\t\t\tfor(var i = 0; i < values.length; i++)\t{\r\n\t\t\t\tif(values[i] < this.min){\r\n\t\t\t\t\tthis.min = Math.ceil(values[i]);\r\n\t\t\t\t\tupdate = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\telse if(values[i] > this.max){\r\n\t\t\t\t\tthis.max = Math.ceil(values[i] + 1.0);\r\n\t\t\t\t\tupdate = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t//If some value not in range update range\r\n\t\t\tif(update)\t{\r\n\t\t\t\tthis.setRange(this.min, this.max);\r\n\t\t\t}\r\n\r\n\t\t\t//Update graph\r\n\t\t\tthis._updateGraph(graph);\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Return value array of a graph by its name.\r\n\t\t *\r\n\t\t * @method getValue\r\n\t\t * @param {String} name Graph name.\r\n\t\t */\r\n\t\tgetValue : function(name) {\r\n\t\t\tvar graph = this.getGraph(name);\r\n\r\n\t\t\tif(graph !== null)\r\n\t\t\t{\r\n\t\t\t\treturn graph.values;\r\n\t\t\t}\r\n\r\n\t\t\treturn null;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Get graph object by name.\r\n\t\t *\r\n\t\t * @method getGraph\r\n\t\t * @param {String} name Graph name.\r\n\t\t */\r\n\t\tgetGraph : function(name) {\r\n\t\t\tif(name !== undefined) \t{\r\n\t\t\t\tfor(var i = 0; i < this.graph.length; i++)\r\n\t\t\t\t{\r\n\t\t\t\t\tif(this.graph[i].name === name)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\treturn this.graph[i];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif(this.graph.length > 0)\r\n\t\t\t{\r\n\t\t\t\treturn this.graph[0];\r\n\t\t\t}\r\n\r\n\t\t\treturn null;\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Update graph canvas and buttons.\r\n\t\t *\r\n\t\t * @method updateGraph\r\n\t\t * @param {Object} graph Graph object.\r\n\t\t */\r\n\t\t_updateGraph : function(graph)\r\n\t\t{\r\n\t\t\tvar width = this.size.x - this.scaleMargin;\r\n\r\n\t\t\t//Get canvas context\r\n\t\t\tvar context = graph.canvas.getContext(\"2d\");\r\n\t\t\tcontext.clearRect(0, 0, width, this.size.y);\r\n\t\t\tcontext.strokeStyle = graph.color;\r\n\t\t\tcontext.lineWidth = \"2\";\r\n\r\n\t\t\t//Draw graph and set button positions\r\n\t\t\tvar step = width / (graph.values.length - 1);\r\n\t\t\tvar delta = this.max - this.min;\r\n\r\n\t\t\tcontext.moveTo(0, graph.values[0] * this.size.y);\r\n\t\t\tcontext.beginPath();\r\n\r\n\t\t\tfor(var i = 0; i < graph.values.length; i++)\r\n\t\t\t{\r\n\t\t\t\tvar x = i * step;\r\n\t\t\t\tvar y = (1 - ((graph.values[i] - this.min) / delta)) * this.size.y;\r\n\r\n\t\t\t\tcontext.lineTo(x, y);\r\n\r\n\t\t\t\tvar button = graph.buttons[i];\r\n\t\t\t\tbutton.style.left = x + \"px\";\r\n\t\t\t\tbutton.style.top = y + \"px\";\r\n\t\t\t}\r\n\r\n\t\t\tcontext.stroke();\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * Draw background grid canvas.\r\n\t\t *\r\n\t\t * @method updateGrid\r\n\t\t */\r\n\t\t_updateGrid : function() {\r\n\t\t\tvar width = this.size.x - this.scaleMargin;\r\n\r\n\t\t\tvar context = this.grid.getContext(\"2d\");\r\n\t\t\tcontext.clearRect(0, 0, width, this.size.y);\r\n\t\t\tcontext.strokeStyle = \"#222222\";\r\n\t\t\tcontext.lineWidth = \"1\";\r\n\r\n\t\t\t//Border\r\n\t\t\tcontext.beginPath();\r\n\t\t\tcontext.rect(0, 0, width, this.size.y);\r\n\t\t\tcontext.stroke();\r\n\t\t\tcontext.moveTo(0, 0);\r\n\r\n\t\t\tvar step = width / 10;\r\n\t\t\tif(step <= 0) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t//Vertical lines\t\r\n\t\t\tfor(var i = 0; i < width; i += step) {\r\n\t\t\t\tcontext.beginPath();\r\n\t\t\t\tcontext.moveTo(i, 0);\r\n\t\t\t\tcontext.lineTo(i, this.size.y);\r\n\t\t\t\tcontext.stroke();\r\n\t\t\t}\r\n\r\n\t\t\t//Horizontal lines\r\n\t\t\tfor(var i = 0; i < this.size.y; i += step)\t{\r\n\t\t\t\tcontext.beginPath();\r\n\t\t\t\tcontext.moveTo(0, i);\r\n\t\t\t\tcontext.lineTo(width, i);\r\n\t\t\t\tcontext.stroke();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_updateSize : function() {\r\n\t\t\tWidget.prototype._updateSize.call(this);\r\n\r\n\t\t\tvar width = this.size.x - this.scaleMargin;\r\n\r\n\t\t\t//Grid\r\n\t\t\tthis.grid.width = width;\r\n\t\t\tthis.grid.height = this.size.y;\r\n\t\t\tthis.grid.style.width = width + \"px\";\r\n\t\t\tthis.grid.style.height = this.size.y + \"px\";\r\n\t\t\tthis._updateGrid();\r\n\r\n\t\t\t//Graph\r\n\t\t\tfor(var i = 0; i < this.graph.length; i++)\r\n\t\t\t{\r\n\t\t\t\tvar graph = this.graph[i];\r\n\t\t\t\tgraph.canvas.width = width;\r\n\t\t\t\tgraph.canvas.height = this.size.y;\r\n\t\t\t\tgraph.canvas.style.width = width + \"px\";\r\n\t\t\t\tgraph.canvas.style.height = this.size.y + \"px\";\r\n\t\t\t\tthis._updateGraph(graph);\r\n\t\t\t}\r\n\r\n\t\t\t//Scale\r\n\t\t\tvar step = (this.size.y - 14) / (this.scale.length - 1);\r\n\t\t\tfor(var i = 0; i < this.scale.length; i++) {\r\n\t\t\t\tthis.scale[i].style.top = (i * step) + \"px\";\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\tGraph.GaphLine = function(canvas, name, color)\r\n\t{\r\n\t\tif(canvas === undefined)\r\n\t\t{\r\n\t\t\tcanvas = document.createElement(\"canvas\");\r\n\t\t\tcanvas.style.position = \"absolute\";\r\n\t\t}\r\n\r\n\t\tthis.canvas = canvas;\r\n\t\tthis.name = (name !== undefined) ? name : \"default\";\r\n\t\tthis.color = (color !== undefined) ? color : \"#FFFFFF\";\r\n\t\tthis.values = [];\r\n\t\tthis.buttons = [];\r\n\t\tthis.onchange = null;\r\n\t};\r\n\r\n\r\n\treturn graphics.Graph = Graph;\r\n});\ndefine('skylark-widgets-graphics/main',[\r\n\t\"./graphics\",\r\n\t\"./Graph\"\r\n],function(graphics){\r\n\treturn graphics;\r\n});\ndefine('skylark-widgets-graphics', ['skylark-widgets-graphics/main'], function (main) { return main; });\n\n"]}